# Ù…ÙŠØ²Ø© Ø§Ù„Ù†Ø´Ø± Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ø§Ù„Ø´Ø§Ø­Ù†Ø§Øª Ø§Ù„ÙØ§Ø±ØºØ©

## Ø§Ù„ÙˆØµÙ

ØªÙ… ØªØ­Ø¯ÙŠØ« Ù…ÙŠØ²Ø© **Ø§Ù„Ù†Ø´Ø± Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ** Ù„ØªÙÙ†Ø´Ø¦ **Ø¥Ø¹Ù„Ø§Ù† Ø´Ø§Ø­Ù†Ø© ÙØ§Ø±ØºØ© (EmptyTruckAd)** Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† Ù…Ù†Ø´ÙˆØ± Ø¹Ø§Ø¯ÙŠ.

### ÙƒÙŠÙ ØªØ¹Ù…Ù„:

1. âœ… **Ø¹Ù†Ø¯ ØªØ­ÙˆÙŠÙ„ Ø­Ø§Ù„Ø© Ø§Ù„Ø£Ø³Ø·ÙˆÙ„ Ù…Ù† "ÙÙŠ Ø§Ù„Ø¹Ù…Ù„" Ø¥Ù„Ù‰ "Ù…ØªØ§Ø­"**
2. âœ… **Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ ÙŠÙ†Ø´Ø¦ Ø¥Ø¹Ù„Ø§Ù† Ø´Ø§Ø­Ù†Ø© ÙØ§Ø±ØºØ© ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹**
3. âœ… **Ø§Ù„Ù†Ø´Ø± ÙÙˆØ±ÙŠ (Ø¨Ø¯ÙˆÙ† ØªÙˆÙ‚ÙŠØª)**
4. âœ… **ÙŠØ³ØªØ®Ø¯Ù… Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø³Ø·ÙˆÙ„ ÙˆØ§Ù„Ù…ÙˆÙ‚Ø¹**
5. âœ… **ÙŠÙˆÙ„Ø¯ Ù…Ø­ØªÙˆÙ‰ Ù…ØªÙ†ÙˆØ¹ ÙˆÙ…Ø¨ØªÙƒØ±**
6. âœ… **ÙŠÙˆÙ„Ø¯ ØµÙˆØ±Ø© Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ**
7. âœ… **ÙŠÙ†Ø´Ø¦ Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ù„Ù„Ù…ØªØ§Ø¨Ø¹ÙŠÙ† (Ù†Ø¸Ø§Ù… 15%)**

---

## Ø§Ù„Ø´Ø±ÙˆØ· Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©

### Ù„ÙƒÙŠ ØªØ¹Ù…Ù„ Ø§Ù„Ù…ÙŠØ²Ø©ØŒ ÙŠØ¬Ø¨:

1. âœ… **Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø´Ø±ÙƒØ©** (`userType === 'company'`)
2. âœ… **Ù…ÙŠØ²Ø© Ø§Ù„Ù†Ø´Ø± Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ Ù…ÙØ¹Ù„Ø©** (`user.aiFeatures.autoPosting === true`)
3. âœ… **Ø§Ù„Ø£Ø³Ø·ÙˆÙ„ ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø¨ÙŠØ§Ù†Ø§Øª Ø£Ø³Ø§Ø³ÙŠØ©** (Ø§Ø³Ù…ØŒ Ø±Ù‚Ù… Ù„ÙˆØ­Ø©)
4. âœ… **Ù„Ù… ÙŠØªÙ… Ø§Ù„Ù†Ø´Ø± Ø®Ù„Ø§Ù„ Ø§Ù„Ø³Ø§Ø¹Ø© Ø§Ù„Ø£Ø®ÙŠØ±Ø©** (Ù„ØªØ¬Ù†Ø¨ Ø§Ù„ØªÙƒØ±Ø§Ø±)

---

## Ø§Ù„Ø¢Ù„ÙŠØ© Ø§Ù„ØªÙ‚Ù†ÙŠØ©

### 1ï¸âƒ£ Hook ÙÙŠ Ù†Ù…ÙˆØ°Ø¬ Vehicle

ÙÙŠ Ù…Ù„Ù `models/Vehicle.js`:

```javascript
// Hook Ù„Ù„Ù†Ø´Ø± Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ Ø¹Ù†Ø¯ ØªØºÙŠÙŠØ± Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ø±ÙƒØ¨Ø© Ø¥Ù„Ù‰ "Ù…ØªØ§Ø­"
VehicleSchema.post('save', async function(doc) {
  if (doc.status === "Ù…ØªØ§Ø­") {
    const { autoPostSingleEmptyTruck } = require('../utils/autoPostEmptyTruck');
    setImmediate(async () => {
      await autoPostSingleEmptyTruck(doc._id);
    });
  }
});

VehicleSchema.post('findOneAndUpdate', async function(doc) {
  if (doc && doc.status === "Ù…ØªØ§Ø­") {
    const { autoPostSingleEmptyTruck } = require('../utils/autoPostEmptyTruck');
    setImmediate(async () => {
      await autoPostSingleEmptyTruck(doc._id);
    });
  }
});
```

### 2ï¸âƒ£ Ø¯Ø§Ù„Ø© Ø§Ù„Ù†Ø´Ø± Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ

ÙÙŠ Ù…Ù„Ù `utils/autoPostEmptyTruck.js`:

```javascript
async function autoPostSingleEmptyTruck(vehicleId) {
  // 1. Ø¬Ù„Ø¨ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø³Ø·ÙˆÙ„ ÙˆØ§Ù„Ù…Ø³ØªØ®Ø¯Ù…
  const vehicle = await Vehicle.findById(vehicleId).populate('user');
  
  // 2. Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø´Ø±ÙˆØ·
  if (!vehicle || vehicle.status !== "Ù…ØªØ§Ø­") return;
  if (user.userType !== 'company') return;
  if (!user.aiFeatures?.autoPosting) return;
  
  // 3. Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø¹Ø¯Ù… Ø§Ù„ØªÙƒØ±Ø§Ø± (Ø³Ø§Ø¹Ø© ÙˆØ§Ø­Ø¯Ø©)
  if (vehicle.lastAutoPostedAt) {
    const hoursSinceLastPost = (Date.now() - vehicle.lastAutoPostedAt) / 3600000;
    if (hoursSinceLastPost < 1) return;
  }
  
  // 4. ØªÙˆÙ„ÙŠØ¯ Ù…Ø­ØªÙˆÙ‰ Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ
  const additionalNotes = await callDeepSeek([...]);
  
  // 5. ØªÙˆÙ„ÙŠØ¯ ØµÙˆØ±Ø© Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ
  const imageUrl = generateImageUrl(imagePrompt);
  
  // 6. Ø¥Ù†Ø´Ø§Ø¡ Ø¥Ø¹Ù„Ø§Ù† Ø§Ù„Ø´Ø§Ø­Ù†Ø© Ø§Ù„ÙØ§Ø±ØºØ©
  const emptyTruckAd = await EmptyTruckAd.create({
    user: user._id,
    currentLocation: vehicle.currentLocation || user.city,
    preferredDestination: 'Ø£ÙŠ ÙˆØ¬Ù‡Ø©', // Ø°ÙƒÙŠ
    availabilityDate: new Date(), // Ø§Ù„Ø¢Ù†
    truckType: vehicle.vehicleType,
    additionalNotes: additionalNotes,
    media: [{ url: imageUrl, type: 'image' }],
    isPublished: true,
    scheduledTime: null, // Ù†Ø´Ø± ÙÙˆØ±ÙŠ
  });
  
  // 7. Ø¥Ù†Ø´Ø§Ø¡ Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ù„Ù„Ù…ØªØ§Ø¨Ø¹ÙŠÙ† (15%)
  await createFollowingNotifications(
    user._id,
    'new_following_empty_truck_ad',
    null, null, emptyTruckAd._id
  );
  
  // 8. ØªØ­Ø¯ÙŠØ« Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù†Ø´Ø±
  vehicle.lastAutoPostedAt = new Date();
  vehicle.autoPostCount += 1;
  await vehicle.save();
}
```

---

## Ø¨Ù†ÙŠØ© Ø¥Ø¹Ù„Ø§Ù† Ø§Ù„Ø´Ø§Ø­Ù†Ø© Ø§Ù„ÙØ§Ø±ØºØ©

### Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©:

```javascript
{
  user: ObjectId,                    // Ø§Ù„Ø´Ø±ÙƒØ© Ø§Ù„Ù…Ø§Ù„ÙƒØ©
  currentLocation: String,           // Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø­Ø§Ù„ÙŠ
  preferredDestination: String,      // Ø§Ù„ÙˆØ¬Ù‡Ø© Ø§Ù„Ù…ÙØ¶Ù„Ø©
  availabilityDate: Date,            // ØªØ§Ø±ÙŠØ® Ø§Ù„ØªÙˆÙØ±
  truckType: String,                 // Ù†ÙˆØ¹ Ø§Ù„Ø´Ø§Ø­Ù†Ø©
  additionalNotes: String,           // Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© (Ù…Ù† AI)
  media: [{ url, type }],           // ØµÙˆØ± (Ù…Ù† AI)
  isPublished: Boolean,              // Ù…Ù†Ø´ÙˆØ± ÙÙˆØ±Ø§Ù‹
  scheduledTime: null,               // Ø¨Ø¯ÙˆÙ† ØªÙˆÙ‚ÙŠØª
}
```

---

## ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ

### 1ï¸âƒ£ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø§Ù„Ø¥Ø¶Ø§ÙÙŠØ©:

```javascript
const prompt = `Ø£Ù†Øª Ù…Ø³Ø§Ø¹Ø¯ Ø°ÙƒÙŠ Ù…ØªØ®ØµØµ ÙÙŠ ÙƒØªØ§Ø¨Ø© Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ù…ØªÙ†ÙˆØ¹Ø©. 
Ù‚Ù… Ø¨Ø¥Ù†Ø´Ø§Ø¡ Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© (Ù„Ø§ ØªØ²ÙŠØ¯ Ø¹Ù† 80 ÙƒÙ„Ù…Ø©) Ù„Ù„Ø¥Ø¹Ù„Ø§Ù† Ø¹Ù† Ø´Ø§Ø­Ù†Ø© ÙØ§Ø±ØºØ©.

Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø´Ø§Ø­Ù†Ø©:
- Ø§Ù„Ù†ÙˆØ¹: ${vehicle.vehicleType}
- Ø±Ù‚Ù… Ø§Ù„Ù„ÙˆØ­Ø©: ${vehicle.licensePlate}
- Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø­Ø§Ù„ÙŠ: ${vehicle.currentLocation}
- Ø§Ø³Ù… Ø§Ù„Ø´Ø±ÙƒØ©: ${user.companyName}

Ù…ØªØ·Ù„Ø¨Ø§Øª Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª:
- Ø§Ø³ØªØ®Ø¯Ù… Ø£Ø³Ù„ÙˆØ¨ Ù…Ø¨ØªÙƒØ± ÙˆÙ…Ø®ØªÙ„Ù
- Ø±ÙƒØ² Ø¹Ù„Ù‰ Ù…Ù…ÙŠØ²Ø§Øª Ø§Ù„Ø´Ø§Ø­Ù†Ø© ÙˆØ§Ù„Ø®Ø¯Ù…Ø©
- Ø¨Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©`;

const additionalNotes = await callDeepSeek([...]);
```

### 2ï¸âƒ£ Ø§Ù„ØµÙˆØ±Ø©:

```javascript
const imagePrompt = generateTruckImagePrompt(
  vehicle.vehicleType,
  vehicle.currentLocation,
  'realistic'
);

const imageUrl = generateImageUrl(imagePrompt);
```

---

## Ø§Ù„ÙˆØ¬Ù‡Ø© Ø§Ù„Ù…ÙØ¶Ù„Ø© Ø§Ù„Ø°ÙƒÙŠØ©

Ø§Ù„ÙƒÙˆØ¯ ÙŠØ­Ø¯Ø¯ Ø§Ù„ÙˆØ¬Ù‡Ø© Ø§Ù„Ù…ÙØ¶Ù„Ø© Ø¨Ø°ÙƒØ§Ø¡ Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø­Ø§Ù„ÙŠ:

```javascript
const preferredDestination = vehicle.currentLocation ? 
  (vehicle.currentLocation.includes('Ø§Ù„Ø±ÙŠØ§Ø¶') ? 'Ø¬Ø¯Ø©' : 
   vehicle.currentLocation.includes('Ø¬Ø¯Ø©') ? 'Ø§Ù„Ø±ÙŠØ§Ø¶' : 
   vehicle.currentLocation.includes('Ø§Ù„Ø¯Ù…Ø§Ù…') ? 'Ø§Ù„Ø±ÙŠØ§Ø¶' : 
   'Ø£ÙŠ ÙˆØ¬Ù‡Ø©') : 'Ø£ÙŠ ÙˆØ¬Ù‡Ø©';
```

### Ø£Ù…Ø«Ù„Ø©:

| Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø­Ø§Ù„ÙŠ | Ø§Ù„ÙˆØ¬Ù‡Ø© Ø§Ù„Ù…ÙØ¶Ù„Ø© |
|---------------|----------------|
| Ø§Ù„Ø±ÙŠØ§Ø¶ | Ø¬Ø¯Ø© |
| Ø¬Ø¯Ø© | Ø§Ù„Ø±ÙŠØ§Ø¶ |
| Ø§Ù„Ø¯Ù…Ø§Ù… | Ø§Ù„Ø±ÙŠØ§Ø¶ |
| Ø£ÙŠ Ù…Ø¯ÙŠÙ†Ø© Ø£Ø®Ø±Ù‰ | Ø£ÙŠ ÙˆØ¬Ù‡Ø© |

---

## Ù†Ø¸Ø§Ù… Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª

### Ø¥Ù†Ø´Ø§Ø¡ Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ù„Ù„Ù…ØªØ§Ø¨Ø¹ÙŠÙ†:

```javascript
await createFollowingNotifications(
  user._id,                          // Ø§Ù„Ø´Ø±ÙƒØ©
  'new_following_empty_truck_ad',    // Ù†ÙˆØ¹ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±
  null,                              // post
  null,                              // shipmentAd
  emptyTruckAd._id                   // emptyTruckAd
);
```

### Ù†Ø¸Ø§Ù… 15%:

- âœ… **15% Ù…Ù† Ø§Ù„Ù…ØªØ§Ø¨Ø¹ÙŠÙ†** ÙŠØ±ÙˆÙ† Ø§Ù„Ø¥Ø¹Ù„Ø§Ù† ÙÙŠ Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
- âœ… **85% Ø§Ù„Ø¨Ø§Ù‚ÙŠØ©** ÙŠØ±ÙˆÙ† Ø§Ù„Ø¥Ø¹Ù„Ø§Ù† ÙÙŠ ØµÙØ­Ø© Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª ÙÙ‚Ø·
- âœ… **Ù†ÙØ³ Ù†Ø¸Ø§Ù… ÙÙŠØ³Ø¨ÙˆÙƒ**

---

## Ù…Ù†Ø¹ Ø§Ù„ØªÙƒØ±Ø§Ø±

### Ø§Ù„Ø¢Ù„ÙŠØ©:

```javascript
// Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø¹Ø¯Ù… Ø§Ù„Ù†Ø´Ø± Ø®Ù„Ø§Ù„ Ø§Ù„Ø³Ø§Ø¹Ø© Ø§Ù„Ø£Ø®ÙŠØ±Ø©
if (vehicle.lastAutoPostedAt) {
  const hoursSinceLastPost = (Date.now() - vehicle.lastAutoPostedAt) / 3600000;
  if (hoursSinceLastPost < 1) {
    return { success: false, message: "Already posted recently" };
  }
}

// Ø¨Ø¹Ø¯ Ø§Ù„Ù†Ø´Ø±ØŒ ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙˆÙ‚Øª
vehicle.lastAutoPostedAt = new Date();
vehicle.autoPostCount += 1;
await vehicle.save();
```

### Ø§Ù„ÙØ§Ø¦Ø¯Ø©:

- âœ… ÙŠÙ…Ù†Ø¹ Ø§Ù„Ù†Ø´Ø± Ø§Ù„Ù…ØªÙƒØ±Ø± Ø¹Ù†Ø¯ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø£Ø³Ø·ÙˆÙ„ Ø¹Ø¯Ø© Ù…Ø±Ø§Øª
- âœ… ÙŠØ­Ø§ÙØ¸ Ø¹Ù„Ù‰ Ø¬ÙˆØ¯Ø© Ø§Ù„Ù…Ø­ØªÙˆÙ‰
- âœ… Ù„Ø§ ÙŠØ²Ø¹Ø¬ Ø§Ù„Ù…ØªØ§Ø¨Ø¹ÙŠÙ†

---

## Ø§Ù„Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆ Ø§Ù„ÙƒØ§Ù…Ù„

### Ù…Ø«Ø§Ù„ Ø¹Ù…Ù„ÙŠ:

```
Ø§Ù„ÙˆÙ‚Øª: 10:00 ØµØ¨Ø§Ø­Ø§Ù‹
Ø§Ù„Ø´Ø±ÙƒØ©: Ø´Ø±ÙƒØ© Ø§Ù„Ù†Ù‚Ù„ Ø§Ù„Ø³Ø±ÙŠØ¹
Ø§Ù„Ø£Ø³Ø·ÙˆÙ„: Ø´Ø§Ø­Ù†Ø© Ù†Ù‚Ù„ Ø«Ù‚ÙŠÙ„ - Ø±Ù‚Ù… Ø§Ù„Ù„ÙˆØ­Ø©: ABC-1234

1ï¸âƒ£ Ø§Ù„Ø´Ø§Ø­Ù†Ø© ØªÙ†ØªÙ‡ÙŠ Ù…Ù† Ø±Ø­Ù„Ø© ÙÙŠ Ø¬Ø¯Ø©
2ï¸âƒ£ Ø§Ù„Ø´Ø±ÙƒØ© ØªØ­ÙˆÙ„ Ø­Ø§Ù„Ø© Ø§Ù„Ø£Ø³Ø·ÙˆÙ„ Ù…Ù† "ÙÙŠ Ø§Ù„Ø¹Ù…Ù„" Ø¥Ù„Ù‰ "Ù…ØªØ§Ø­"
3ï¸âƒ£ Hook ÙŠÙØ´ØºÙ‘Ù„ Ø¯Ø§Ù„Ø© autoPostSingleEmptyTruck
4ï¸âƒ£ Ø§Ù„Ø¯Ø§Ù„Ø© ØªØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø´Ø±ÙˆØ· âœ…
5ï¸âƒ£ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ ÙŠÙˆÙ„Ø¯ Ù…Ù„Ø§Ø­Ø¸Ø§Øª:
    "ğŸšš Ø´Ø§Ø­Ù†Ø© Ù†Ù‚Ù„ Ø«Ù‚ÙŠÙ„ Ù…ØªØ§Ø­Ø© Ø§Ù„Ø¢Ù† ÙÙŠ Ø¬Ø¯Ø©!
    Ù†ÙˆÙØ± Ø®Ø¯Ù…Ø© Ù†Ù‚Ù„ Ù…ÙˆØ«ÙˆÙ‚Ø© ÙˆØ³Ø±ÙŠØ¹Ø© Ø¥Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ø£Ù†Ø­Ø§Ø¡ Ø§Ù„Ù…Ù…Ù„ÙƒØ©.
    Ø§Ù„Ø´Ø§Ø­Ù†Ø© Ø¬Ø§Ù‡Ø²Ø© Ù„Ù„Ø§Ù†Ø·Ù„Ø§Ù‚ ÙÙˆØ±Ø§Ù‹. Ø§ØªØµÙ„ Ø§Ù„Ø¢Ù†!"
6ï¸âƒ£ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ ÙŠÙˆÙ„Ø¯ ØµÙˆØ±Ø© Ù„Ù„Ø´Ø§Ø­Ù†Ø©
7ï¸âƒ£ ÙŠÙÙ†Ø´Ø£ Ø¥Ø¹Ù„Ø§Ù† Ø´Ø§Ø­Ù†Ø© ÙØ§Ø±ØºØ©:
    - Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø­Ø§Ù„ÙŠ: Ø¬Ø¯Ø©
    - Ø§Ù„ÙˆØ¬Ù‡Ø© Ø§Ù„Ù…ÙØ¶Ù„Ø©: Ø§Ù„Ø±ÙŠØ§Ø¶ (Ø°ÙƒÙŠ)
    - ØªØ§Ø±ÙŠØ® Ø§Ù„ØªÙˆÙØ±: Ø§Ù„Ø¢Ù†
    - Ù†ÙˆØ¹ Ø§Ù„Ø´Ø§Ø­Ù†Ø©: Ø´Ø§Ø­Ù†Ø© Ù†Ù‚Ù„ Ø«Ù‚ÙŠÙ„
8ï¸âƒ£ ÙŠÙÙ†Ø´Ø£ Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ù„Ù€ 15% Ù…Ù† Ø§Ù„Ù…ØªØ§Ø¨Ø¹ÙŠÙ†
9ï¸âƒ£ ÙŠÙØ­Ø¯Ù‘Ø« lastAutoPostedAt Ùˆ autoPostCount
ğŸ”Ÿ âœ… ØªÙ… Ø§Ù„Ù†Ø´Ø± Ø¨Ù†Ø¬Ø§Ø­!
```

---

## Ø§Ù„ÙØ±Ù‚ Ø¨ÙŠÙ† Ø§Ù„Ù‚Ø¯ÙŠÙ… ÙˆØ§Ù„Ø¬Ø¯ÙŠØ¯

| Ø§Ù„Ù…ÙŠØ²Ø© | Ø§Ù„Ù‚Ø¯ÙŠÙ… | Ø§Ù„Ø¬Ø¯ÙŠØ¯ |
|--------|--------|--------|
| Ù†ÙˆØ¹ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ | Ù…Ù†Ø´ÙˆØ± Ø¹Ø§Ø¯ÙŠ (Post) | Ø¥Ø¹Ù„Ø§Ù† Ø´Ø§Ø­Ù†Ø© ÙØ§Ø±ØºØ© (EmptyTruckAd) |
| Ø§Ù„Ø­Ù‚ÙˆÙ„ | text, media | currentLocation, preferredDestination, availabilityDate, truckType, additionalNotes, media |
| Ø§Ù„ÙˆØ¬Ù‡Ø© | ØºÙŠØ± Ù…Ø­Ø¯Ø¯Ø© | Ø°ÙƒÙŠØ© Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„Ù…ÙˆÙ‚Ø¹ |
| Ø§Ù„ØªÙˆÙ‚ÙŠØª | ÙÙˆØ±ÙŠ | ÙÙˆØ±ÙŠ (Ø¨Ø¯ÙˆÙ† scheduledTime) |
| Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª | Ù„Ø§ ÙŠÙˆØ¬Ø¯ | Ù†Ø¸Ø§Ù… 15% Ù„Ù„Ù…ØªØ§Ø¨Ø¹ÙŠÙ† |
| Ø§Ù„Ù†ÙˆØ¹ | generatedByAI: true | Ø¥Ø¹Ù„Ø§Ù† Ø´Ø§Ø­Ù†Ø© ÙØ§Ø±ØºØ© ÙƒØ§Ù…Ù„ |

---

## Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±

### Ø®Ø·ÙˆØ§Øª Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±:

1. **ØªØ£ÙƒØ¯ Ù…Ù† ØªÙØ¹ÙŠÙ„ Ø§Ù„Ù…ÙŠØ²Ø©:**
   ```javascript
   user.aiFeatures.autoPosting = true;
   await user.save();
   ```

2. **Ø£Ø¶Ù Ø£Ø³Ø·ÙˆÙ„ Ø¬Ø¯ÙŠØ¯:**
   ```javascript
   const vehicle = await Vehicle.create({
     user: companyId,
     driverName: "Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯",
     vehicleName: "Ø´Ø§Ø­Ù†Ø© Ù†Ù‚Ù„ Ø«Ù‚ÙŠÙ„",
     licensePlate: "ABC-1234",
     vehicleType: "Ø´Ø§Ø­Ù†Ø© Ù†Ù‚Ù„ Ø«Ù‚ÙŠÙ„",
     currentLocation: "Ø¬Ø¯Ø©",
     status: "ÙÙŠ Ø§Ù„Ø¹Ù…Ù„", // Ø§Ø¨Ø¯Ø£ Ø¨Ù€ "ÙÙŠ Ø§Ù„Ø¹Ù…Ù„"
   });
   ```

3. **Ø­ÙˆÙ„ Ø§Ù„Ø­Ø§Ù„Ø© Ø¥Ù„Ù‰ "Ù…ØªØ§Ø­":**
   ```javascript
   vehicle.status = "Ù…ØªØ§Ø­";
   await vehicle.save();
   ```

4. **ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù†ØªÙŠØ¬Ø©:**
   ```javascript
   // ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙÙ†Ø´Ø£ Ø¥Ø¹Ù„Ø§Ù† Ø´Ø§Ø­Ù†Ø© ÙØ§Ø±ØºØ© ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
   const ads = await EmptyTruckAd.find({ user: companyId });
   console.log(ads); // ÙŠØ¬Ø¨ Ø£Ù† ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø¥Ø¹Ù„Ø§Ù† Ø¬Ø¯ÙŠØ¯
   ```

---

## Ø§Ù„Ø³Ø¬Ù„Ø§Øª (Logs)

### Ø¹Ù†Ø¯ Ø§Ù„Ù†Ø¬Ø§Ø­:

```
ğŸš€ Auto posting empty truck ad for: Ø´Ø§Ø­Ù†Ø© Ù†Ù‚Ù„ Ø«Ù‚ÙŠÙ„ (ABC-1234)
ğŸ¨ Generating AI image for empty truck...
ğŸ“ Image prompt: A realistic image of a Ø´Ø§Ø­Ù†Ø© Ù†Ù‚Ù„ Ø«Ù‚ÙŠÙ„ in Ø¬Ø¯Ø©...
âœ… AI-generated image URL added to ad: https://...
âœ… Following notifications created for empty truck ad
âœ… Successfully posted empty truck ad for: Ø´Ø§Ø­Ù†Ø© Ù†Ù‚Ù„ Ø«Ù‚ÙŠÙ„
```

### Ø¹Ù†Ø¯ Ø§Ù„ÙØ´Ù„:

```
âŒ Vehicle not found: 123456789
â„¹ï¸ Vehicle is not available, skipping auto post
â„¹ï¸ User is not a company, skipping auto post
â„¹ï¸ Auto posting is not enabled for this company
â„¹ï¸ Already posted within the last hour, skipping
âš ï¸ Missing basic vehicle information, skipping auto post
âŒ Error calling DeepSeek AI: ...
âŒ Error in AI image generation: ...
```

---

## Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø¹Ø¯Ù„Ø©

1. âœ… `utils/autoPostEmptyTruck.js` - ØªØ­Ø¯ÙŠØ« ÙƒØ§Ù…Ù„ Ù„Ù„Ø¯Ø§Ù„Ø©
2. âœ… `models/Vehicle.js` - Hooks Ù…ÙˆØ¬ÙˆØ¯Ø© Ù…Ø³Ø¨Ù‚Ø§Ù‹ (Ù„Ø§ ØªØ­ØªØ§Ø¬ ØªØ¹Ø¯ÙŠÙ„)

---

## Ø§Ù„ØªÙˆØ§ÙÙ‚

Ù‡Ø°Ù‡ Ø§Ù„Ù…ÙŠØ²Ø© ØªØ¹Ù…Ù„ Ø¨Ø§Ù„ØªÙˆØ§Ø²ÙŠ Ù…Ø¹:
- âœ… Ù†Ø¸Ø§Ù… Ø§Ù„ÙÙ„ØªØ±Ø© 15% Ù„Ù„Ù…ØªØ§Ø¨Ø¹ÙŠÙ†
- âœ… Ù†Ø¸Ø§Ù… Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª
- âœ… Ø§Ù„Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø°ÙƒÙŠ Ù„Ù„Ù…Ù†Ø´ÙˆØ±Ø§Øª (5 Ø¯Ù‚Ø§Ø¦Ù‚)
- âœ… Ø¬Ù…ÙŠØ¹ Ù…ÙŠØ²Ø§Øª Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ø§Ù„Ø£Ø®Ø±Ù‰

---

## Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ø£Ù…Ø§Ù…ÙŠØ©

### Ù‡Ù„ ØªØ­ØªØ§Ø¬ ØªØ¹Ø¯ÙŠÙ„ØŸ

**Ù„Ø§ ØªØ­ØªØ§Ø¬ ØªØ¹Ø¯ÙŠÙ„!** âœ…

Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ø£Ù…Ø§Ù…ÙŠØ© ØªØ³ØªØ¯Ø¹ÙŠ endpoint Ø¬Ù„Ø¨ Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ø§Ù„Ø´Ø§Ø­Ù†Ø§Øª Ø§Ù„ÙØ§Ø±ØºØ©:

```javascript
GET /api/v1/emptytruckads
```

Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ø§Ù„Ù…ÙÙ†Ø´Ø£Ø© ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø³ØªØ¸Ù‡Ø± ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ ÙÙŠ Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©.

---

## Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ù…Ù‡Ù…Ø©

### âš ï¸ ØªØ£ÙƒØ¯ Ù…Ù†:

1. **ØªÙØ¹ÙŠÙ„ Ø§Ù„Ù…ÙŠØ²Ø© Ù„Ù„Ø´Ø±ÙƒØ©:**
   ```javascript
   user.aiFeatures = {
     autoPosting: true,
     // ... Ù…ÙŠØ²Ø§Øª Ø£Ø®Ø±Ù‰
   };
   ```

2. **Ø¥Ø¹Ø§Ø¯Ø© ØªØ´ØºÙŠÙ„ Ø§Ù„Ø®Ø§Ø¯Ù…** Ø¨Ø¹Ø¯ Ø§Ù„ØªØ­Ø¯ÙŠØ«

3. **Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ø³Ø¬Ù„Ø§Øª** Ù„Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø¹Ù…Ù„ Ø§Ù„Ù…ÙŠØ²Ø©

---

## Ø§Ù„ØªØ§Ø±ÙŠØ®

**2025-10-31**: ØªØ­Ø¯ÙŠØ« Ù…ÙŠØ²Ø© Ø§Ù„Ù†Ø´Ø± Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ Ù„Ø¥Ù†Ø´Ø§Ø¡ Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ø´Ø§Ø­Ù†Ø§Øª ÙØ§Ø±ØºØ© Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† Ù…Ù†Ø´ÙˆØ±Ø§Øª Ø¹Ø§Ø¯ÙŠØ©
