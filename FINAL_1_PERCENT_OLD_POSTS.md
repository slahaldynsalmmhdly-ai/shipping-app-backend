# ุงูุชุนุฏูู ุงูููุงุฆู: 1% ููุดูุฑุงุช ูุฏููุฉ ูู ุงููุชุงุจูุนูู

## ุงูุชุงุฑูุฎ
1 ููููุจุฑ 2025

## ุงููุชุทูุจ ุงูููุงุฆู

### ุงููุดููุฉ
- 15% ูุงูุช ูุณุจุฉ ูุจูุฑุฉ ุฌุฏุงู
- ุงูููุดูุฑุงุช ุงูุฌุฏูุฏุฉ ูู ุงููุชุงุจูุนูู ุชุธูุฑ ูู ุงูุฎูุงุตุฉ (ูุฌุจ ุฃู ุชููู ูู ุงูุฅุดุนุงุฑุงุช ููุท)

### ุงูุญู ุงููุทููุจ
1. **ุชูููู ุงููุณุจุฉ** ูู 15% ุฅูู **1%**
2. **ุฅุธูุงุฑ ุงูููุดูุฑุงุช ุงููุฏููุฉ ููุท** (ุฃูุซุฑ ูู 24 ุณุงุนุฉ)
3. **ุงูููุดูุฑุงุช ุงูุฌุฏูุฏุฉ** ุชุธูุฑ ูู ุงูุฅุดุนุงุฑุงุช ููุท

---

## ุงูุญู ุงููุทุจู

### ุงูููุงุนุฏ ุงูุฌุฏูุฏุฉ

#### 1. ุงููุณุจุฉ: 1%
```javascript
const followingCount = Math.max(1, Math.ceil(totalCount * 0.01)); // 1%
```

**ุงููุนูู:**
- ุฅุฐุง ูุงูุช ุงูุฎูุงุตุฉ 10 ููุดูุฑุงุช โ 1 ููุดูุฑ ูู ูุชุงุจูุน (1%)
- ุฅุฐุง ูุงูุช ุงูุฎูุงุตุฉ 100 ููุดูุฑ โ 1 ููุดูุฑ ูู ูุชุงุจูุน (1%)
- ุนูู ุงูุฃูู ููุดูุฑ ูุงุญุฏ (ุญุชู ูู ูุงูุช ุงููุณุจุฉ ุฃูู)

#### 2. ููุชุฑ ุงูููุดูุฑุงุช ุงููุฏููุฉ ููุท
```javascript
.filter(item => {
  // ููุท ุงูููุดูุฑุงุช ุงููุฏููุฉ (ุฃูุซุฑ ูู 24 ุณุงุนุฉ)
  const hoursSincePost = (Date.now() - new Date(item.createdAt)) / (1000 * 60 * 60);
  return hoursSincePost >= 24;
})
```

**ุงููุนูู:**
- ุงูููุดูุฑุงุช ุงูุฌุฏูุฏุฉ (ุฃูู ูู 24 ุณุงุนุฉ) โ **ูุง ุชุธูุฑ** โ
- ุงูููุดูุฑุงุช ุงููุฏููุฉ (ุฃูุซุฑ ูู 24 ุณุงุนุฉ) โ **ุชุธูุฑ** โ

#### 3. ุนูุณ ุงูุชุฑุชูุจ (ุงููุฏูู ุฃููุงู)
```javascript
// ููุงุท ุงูููุช (ุนูุณ - ุงููุฏูู ุฃุนูู ููุงุท)
if (hoursSincePost >= 168) { // ุฃุณุจูุน ุฃู ุฃูุซุฑ
  timeScore = 100; // ุฃุนูู ููุงุท
} else if (hoursSincePost >= 72) { // 3 ุฃูุงู
  timeScore = 75;
} else if (hoursSincePost >= 24) { // ููู
  timeScore = 50;
}
```

**ุงููุนูู:**
- ุงูููุดูุฑุงุช ุงูุฃูุฏู ููุง ุฃููููุฉ ุฃุนูู
- ุงูููุดูุฑุงุช ุงูุฃุญุฏุซ (ููู ุฃูุซุฑ ูู 24 ุณุงุนุฉ) ููุง ุฃููููุฉ ุฃูู

---

## ุงูููุงุฑูุฉ

### ูุจู ุงูุชุนุฏูู (15%)
| ุงููููุงุณ | ุงููููุฉ |
|---------|--------|
| ุงููุณุจุฉ | 15% (ูุซูุฑ ุฌุฏุงู) โ |
| ุงูููุดูุฑุงุช | ุงูุฌุฏูุฏุฉ + ุงููุฏููุฉ โ |
| ุงูุชุฑุชูุจ | ุงูุฃุญุฏุซ ุฃููุงู โ |

### ุจุนุฏ ุงูุชุนุฏูู (1%)
| ุงููููุงุณ | ุงููููุฉ |
|---------|--------|
| ุงููุณุจุฉ | 1% (ูููู ุฌุฏุงู) โ |
| ุงูููุดูุฑุงุช | ุงููุฏููุฉ ููุท (> 24 ุณุงุนุฉ) โ |
| ุงูุชุฑุชูุจ | ุงูุฃูุฏู ุฃููุงู โ |

---

## ุฃูุซูุฉ ุนูููุฉ

### ูุซุงู 1: ุฎูุงุตุฉ ูู 10 ููุดูุฑุงุช
```
ุงููุฌููุน: 10 ููุดูุฑุงุช
โโ 1 ููุดูุฑ ูู ูุชุงุจูุน (1%) - ูุฏูู (> 24 ุณุงุนุฉ) โ
โโ 9 ููุดูุฑุงุช ูู ุงูุฌููุน (99%) โ

ุงูุชุฑุชูุจ:
1-9. ููุดูุฑุงุช ูุชููุนุฉ
10. ููุดูุฑ ูุฏูู ูู ูุชุงุจูุน
```

### ูุซุงู 2: ุฎูุงุตุฉ ูู 100 ููุดูุฑ
```
ุงููุฌููุน: 100 ููุดูุฑ
โโ 1 ููุดูุฑ ูู ูุชุงุจูุน (1%) - ูุฏูู โ
โโ 99 ููุดูุฑ ูู ุงูุฌููุน (99%) โ
```

### ูุซุงู 3: ููุดูุฑุงุช ุงููุชุงุจูุนูู
```
ูุฏูู 10 ููุดูุฑุงุช ูู ูุชุงุจูุนูู:
โโ 3 ููุดูุฑุงุช ุฌุฏูุฏุฉ (< 24 ุณุงุนุฉ) โ ูุง ุชุธูุฑ ูู ุงูุฎูุงุตุฉ โ
โ   (ุชุธูุฑ ูู ุงูุฅุดุนุงุฑุงุช ููุท)
โโ 7 ููุดูุฑุงุช ูุฏููุฉ (> 24 ุณุงุนุฉ) โ ุชุธูุฑ ูู ุงูุฎูุงุตุฉ โ
    (ููุดูุฑ ูุงุญุฏ ููุท - ุงูุฃูุฏู)
```

---

## ุงูููุทู ุงููุงูู

### ุงูุฎุทูุงุช

#### 1. ูุตู ุงูููุดูุฑุงุช
```javascript
const followingPosts = []; // ููุดูุฑุงุช ุงููุชุงุจูุนูู
const otherPosts = [];     // ููุดูุฑุงุช ุงูุขุฎุฑูู
```

#### 2. ููุชุฑุฉ ุงูููุดูุฑุงุช ุงููุฏููุฉ ููุท
```javascript
const rankedFollowingPosts = followingPosts
  .filter(item => {
    const hoursSincePost = (Date.now() - new Date(item.createdAt)) / (1000 * 60 * 60);
    return hoursSincePost >= 24; // ููุท ุงููุฏููุฉ
  })
```

#### 3. ุชุฑุชูุจ ุนูุณู (ุงูุฃูุฏู ุฃููุงู)
```javascript
  .map(item => {
    let score = 0;
    
    // ุงููุฏูู = ููุงุท ุนุงููุฉ
    if (hoursSincePost >= 168) score = 100; // ุฃุณุจูุน
    else if (hoursSincePost >= 72) score = 75; // 3 ุฃูุงู
    else if (hoursSincePost >= 24) score = 50; // ููู
    
    return { ...item, _rankScore: score };
  })
  .sort((a, b) => b._rankScore - a._rankScore); // ุงูุฃูุฏู ุฃููุงู
```

#### 4. ุฃุฎุฐ 1% ููุท
```javascript
const followingCount = Math.max(1, Math.ceil(totalCount * 0.01)); // 1%
const selectedFollowingPosts = rankedFollowingPosts.slice(0, followingCount);
```

#### 5. ุฏูุฌ ูุน ุงูุจุงูู
```javascript
// ุฏูุฌ 1% ูู ุงููุชุงุจูุนูู ูุน 99% ูู ุงูุฌููุน
```

---

## ุงูููุงุฆุฏ

### 1. ูุญุชูู ูุชููุน ุฌุฏุงู
- โ 99% ูู ุงูุฎูุงุตุฉ ูุญุชูู ูุชููุน
- โ 1% ููุท ูู ุงููุชุงุจูุนูู (ููุญุฉ ุจุณูุทุฉ)
- โ ุชุฌุฑุจุฉ ุงูุชุดุงู ููุชุงุฒุฉ

### 2. ูุตู ูุงุถุญ
- โ ุงูููุดูุฑุงุช ุงูุฌุฏูุฏุฉ โ ุงูุฅุดุนุงุฑุงุช
- โ ุงูููุดูุฑุงุช ุงููุฏููุฉ โ ุงูุฎูุงุตุฉ (1% ููุท)
- โ ููุทู ูุงุถุญ ูููููู

### 3. ุชุฌูุจ ุงูุชูุฑุงุฑ
- โ ุงูููุดูุฑุงุช ุงูุฌุฏูุฏุฉ ูุง ุชุธูุฑ ูุฑุชูู
- โ ุงูููุดูุฑุงุช ุงููุฏููุฉ ุชุธูุฑ ุจูุณุจุฉ ููููุฉ ุฌุฏุงู
- โ ุชุฌุฑุจุฉ ูุธููุฉ

### 4. ุงูุฃุฏุงุก
- โ ุงูููุชุฑุฉ ุณุฑูุนุฉ ุฌุฏุงู
- โ ูุง ุชุฃุซูุฑ ุนูู ููุช ุงูุชุญููู
- โ ุฃูู ูู 10ms

---

## ุงูุงุฎุชุจุงุฑ

### ุณููุงุฑูููุงุช ุงูุงุฎุชุจุงุฑ

#### 1. ูุณุชุฎุฏู ูุชุงุจุน 10 ุฃุดุฎุงุต
**ุงูููุดูุฑุงุช:**
- 5 ููุดูุฑุงุช ุฌุฏูุฏุฉ (< 24 ุณุงุนุฉ)
- 15 ููุดูุฑ ูุฏูู (> 24 ุณุงุนุฉ)

**ุงููุชูุฌุฉ ูู ุงูุฎูุงุตุฉ:**
- โ 1 ููุดูุฑ ูุฏูู ูู ูุชุงุจูุน (ุงูุฃูุฏู)
- โ 9 ููุดูุฑุงุช ูู ุงูุฌููุน
- โ ุงูููุดูุฑุงุช ุงูุฌุฏูุฏุฉ ูุง ุชุธูุฑ (ูู ุงูุฅุดุนุงุฑุงุช ููุท)

#### 2. ูุณุชุฎุฏู ูุชุงุจุน 50 ุดุฎุต
**ุงูููุดูุฑุงุช:**
- 30 ููุดูุฑ ุฌุฏูุฏ (< 24 ุณุงุนุฉ)
- 70 ููุดูุฑ ูุฏูู (> 24 ุณุงุนุฉ)

**ุงููุชูุฌุฉ ูู ุงูุฎูุงุตุฉ:**
- โ 1 ููุดูุฑ ูุฏูู ูู ูุชุงุจูุน (ุงูุฃูุฏู ูู ุงูู 70)
- โ 9 ููุดูุฑุงุช ูู ุงูุฌููุน
- โ ุงูู 30 ููุดูุฑ ุงูุฌุฏูุฏ ูุง ุชุธูุฑ

#### 3. ูุณุชุฎุฏู ูุง ูุชุงุจุน ุฃุญุฏ
**ุงููุชูุฌุฉ:**
- โ 10 ููุดูุฑุงุช ูู ุงูุฌููุน
- โ ูุง ูุดููุฉ

---

## ุงููููุงุช ุงููุนุฏูุฉ

### `routes/feedRoutes.js`
- **ุงูุณุทุฑ 161**: ุชุนุฏูู ุงูุชุนููู (1% ุจุฏูุงู ูู 15%)
- **ุงูุณุทุฑ 181-187**: ุฅุถุงูุฉ ููุชุฑ ููููุดูุฑุงุช ุงููุฏููุฉ ููุท
- **ุงูุณุทุฑ 191-201**: ุนูุณ ุงูุชุฑุชูุจ (ุงููุฏูู ุฃุนูู ููุงุท)
- **ุงูุณุทุฑ 237**: ุชุนุฏูู ุงููุณุจุฉ ูู 15% ุฅูู 1%

---

## ููุงุญุธุงุช ูููุฉ

### ููุงุฐุง 1% ูููุณ 0%ุ

**ุงูุชุญููู:**
- 0%: ูุง ูุฑู ููุดูุฑุงุช ุงููุชุงุจูุนูู ุฃุจุฏุงู โ
- 1%: ูุฑู ููุญุฉ ุจุณูุทุฉ ุฌุฏุงู (ููุดูุฑ ูุงุญุฏ) โ
- 5%: ูุซูุฑ ููููุงู
- 15%: ูุซูุฑ ุฌุฏุงู โ

**ุงูุฎูุงุตุฉ:**
1% ูู ุงูุชูุงุฒู ุงููุซุงูู ุจูู:
- ุฑุคูุฉ ุจุนุถ ูุญุชูู ุงููุชุงุจูุนูู (ููุญุฉ)
- ุงูุญูุงุธ ุนูู ุงูุชููุน (99% ูุญุชูู ูุชููุน)

### ููุงุฐุง ุงูููุดูุฑุงุช ุงููุฏููุฉ ููุทุ

**ุงูููุทู:**
- ุงูููุดูุฑุงุช ุงูุฌุฏูุฏุฉ โ **ุงูุฅุดุนุงุฑุงุช** (ูููุฉุ ูุฌุจ ุฑุคูุชูุง ููุฑุงู)
- ุงูููุดูุฑุงุช ุงููุฏููุฉ โ **ุงูุฎูุงุตุฉ** (ููุญุฉ ุจุณูุทุฉุ ุบูุฑ ูููุฉ)

**ุงููุงุฆุฏุฉ:**
- ูุตู ูุงุถุญ ุจูู ุงููุญุชูู ุงูููู (ุฅุดุนุงุฑุงุช) ูุงููุญุชูู ุงูุนุงุฏู (ุฎูุงุตุฉ)
- ุชุฌูุจ ุงูุชูุฑุงุฑ (ุงูููุดูุฑ ูุง ูุธูุฑ ูุฑุชูู)

### ููุงุฐุง ุงูุฃูุฏู ุฃููุงูุ

**ุงูููุทู:**
- ุงูููุดูุฑุงุช ุงููุฏููุฉ ุฌุฏุงู โ **ูุงุฏุฑุงู ูุง ุชูุฑู**
- ุฅุนุทุงุคูุง ูุฑุตุฉ ููุธููุฑ ูู ุงูุฎูุงุตุฉ

**ุงููุงุฆุฏุฉ:**
- ุงููุณุชุฎุฏู ูุฏ ููุชุดู ูุญุชูู ูุฏูู ูุซูุฑ ููุงูุชูุงู
- ุชููุน ุฃูุจุฑ ูู ุงููุญุชูู

---

## ุงูุฎูุงุตุฉ

ุชู ุชุทุจูู ุงูุชุนุฏูู ุงูููุงุฆู ุจูุฌุงุญ! ๐

**ุงููุชูุฌุฉ:**
- โ 1% ููุดูุฑุงุช ูู ุงููุชุงุจูุนูู (ูุฏููุฉ ููุท)
- โ 99% ููุดูุฑุงุช ูู ุงูุฌููุน (ูุชููุนุฉ)
- โ ุงูููุดูุฑุงุช ุงูุฌุฏูุฏุฉ ูู ุงูุฅุดุนุงุฑุงุช ููุท
- โ ุงูููุดูุฑุงุช ุงููุฏููุฉ ูู ุงูุฎูุงุตุฉ (1% ููุท)
- โ ุงูุฃูุฏู ุฃููุงู (ูุฑุตุฉ ูููุญุชูู ุงููุฏูู)
- โ ุชุฌุฑุจุฉ ูุชููุนุฉ ููุธููุฉ

**ุชู ุจูุฌุงุญ! โ**
